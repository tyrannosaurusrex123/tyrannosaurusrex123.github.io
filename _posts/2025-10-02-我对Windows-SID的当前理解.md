---
title: "我对Windows SID的当前理解"
date: 2025-10-02
categories: [Windows常用知识]



---

## Windows的SID：

#### 1.SID由哪几部分组成？

以`S-1-5-21-XXX-YYY-ZZZ-RID`为例

- S-1：一般都是以这个开头，`S`是作为固定标识符的前缀，`1`是作为SID结构的格式版本号。这个没啥信息（也可以被拆为两部分看）

- 5：标识符授权机构（展示发布这个SID的机构），`5`代表`NT Authority`是一个Windows的核心颁发机构。
  然后还会见到诸如`1，2，11`等说法，对于这些的理解Gemini给了一个绝佳的说法：`这个数字就像是 SID 的“血统证明”，指示 Windows 应该用哪一套规则来解析和信任这个标识符`

- 21：子授权机构（血统下面的子嗣），

  ```
  子嗣 21：负责管理个体家庭（唯一的本地计算机/域）和其中的成员。
  
  子嗣 18、19、20：负责管理仆人（系统服务账户）。//这个是为系统中各种服务和进程预留的身份，而不是为交互式登录用户留的，你可以理解为工人。
  
  子嗣 32：负责管理家族的固定职称（Administrators、Users 等内置角色）。
  ```


​	有些公认标识符没有这个

- XXX-YYY-ZZZ：域/计算机标识符，这个不是MAC，但是也是全球唯一的。有些公认标识符没有这个
- RID：相对标识符，是在一个安全域下的唯一标识

#### 2.我的全球唯一身份证？

- 在`cmd`中使用`whoami /all`，可以看到第一段中有一行`SID`，这段SID用前面的方法去分析，你能发现其第四部分很奇怪。这个是安装Windows系统时自动运算出来的（😣不会有人对算法感兴趣的吧），这个是绑定到你的Windows系统的（不用担心更换硬件会影响它）

#### 3.如何实现权限控制？

- 执行`whoami /groups`，返回的就是决定当前权限的东西，它们就是开门的房卡（访问是要权限的😋）
- 里面有权限卡和身份标签（这些描述如何登陆的），具体的可以直接执行命令去看

#### 4.SID的伪造？

- 据说是什么黄金票据？（😍名字太酷了，我学学再来看）

